# PDF to Speech with Live Captions

A modern web application that converts PDF documents to speech with synchronized live captions. Built with Flask and vanilla JavaScript.

## Features

âœ¨ **Key Features:**
- ğŸ“„ Upload PDF files via drag-and-drop or file picker
- ğŸ”Š Convert PDF text to speech
- ğŸ“ Live captions synchronized with audio playback
- ğŸ¨ Beautiful, responsive UI
- ğŸ—‘ï¸ Auto-delete audio after session ends (no file storage)
- âš¡ Fast processing with in-memory operations

## Installation

### Prerequisites
- Python 3.8+
- pip

### Setup

1. Install dependencies:
```bash
pip install -r requirements.txt
```

2. Run the Flask server:
```bash
python app.py
```

3. Open your browser and go to:
```
http://localhost:5000
```

## Usage

1. **Upload PDF**: Click the upload area or drag & drop a PDF file
2. **Wait for Processing**: The app will extract text and convert to speech
3. **Listen & Read**: 
   - Play the audio using the built-in player
   - Captions will sync with the audio playback
4. **End Session**: Click "End Session" to clear audio and captions

## Project Structure

```
pdf_to_speech/
â”œâ”€â”€ app.py                 # Flask backend
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html        # Frontend UI
â”œâ”€â”€ requirements.txt      # Python dependencies
â””â”€â”€ README.md            # This file
```

## How It Works

### Backend (Flask)
- **PDF Upload**: Accepts PDF files via POST request
- **Text Extraction**: Uses `pdfplumber` to extract text from PDFs
- **Speech Conversion**: Uses `pyttsx3` to generate audio (stored in memory)
- **Caption Generation**: Splits text into sentences with timestamps
- **Session Management**: Clears audio and captions on session end

### Frontend
- **Drag & Drop**: User-friendly file upload
- **Audio Player**: Native HTML5 audio player
- **Live Captions**: Synchronized with audio playback
- **Responsive Design**: Works on desktop and mobile

## API Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/` | GET | Serves the web interface |
| `/api/upload-pdf` | POST | Upload and process PDF |
| `/api/get-audio` | GET | Stream audio file |
| `/api/get-captions` | GET | Get captions data |
| `/api/end-session` | POST | Clear session data |

## Technologies Used

- **Backend**: Flask, pdfplumber, pyttsx3
- **Frontend**: HTML5, CSS3, Vanilla JavaScript
- **Audio**: Native HTML5 Audio API

## Notes

- Audio is processed in-memory and deleted after session ends
- No files are permanently stored on the server
- Captions are generated by sentence splitting
- Works offline for local deployment

## Future Enhancements

- [ ] Adjust speech rate and voice
- [ ] Custom caption styling
- [ ] Support for multiple languages
- [ ] Pause/resume caption sync
- [ ] Download captions as SRT/VTT
